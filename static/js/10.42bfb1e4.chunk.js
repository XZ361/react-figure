(this["webpackJsonpreact-epic"]=this["webpackJsonpreact-epic"]||[]).push([[10],{340:function(e,t,n){"use strict";n.r(t);var r=n(66),a=n(0),l=n.n(a),c=n(16),u=n(17),i=n(62);function o(){var e=Object(c.a)(["\n    background:orange;\n    color:#fff;\n    padding:10px;\n    margin:30px 0;\n"]);return o=function(){return e},e}var s=u.a.div(o()),g=Object(r.a)((function(e){var t=e.children,n=Object(i.a)().UserStore;return l.a.createElement(l.a.Fragment,null,n.currentUser?null:l.a.createElement(s,null,t))})),d=n(339),m=n(336),p=n(161),f=n(230),h=n(6);function E(){var e=Object(c.a)(["\n    max-width:300px;\n"]);return E=function(){return e},e}function b(){var e=Object(c.a)(["\n    margin:20px 0;\n    text-align:center;\n"]);return b=function(){return e},e}function v(){var e=Object(c.a)(["\n    margin-top:30px;\n    padding:20px;\n    border:1px dashed #ccc;\n\n"]);return v=function(){return e},e}var j=u.a.div(v()),w=u.a.h1(b()),O=u.a.img(E()),x=m.a.Dragger,S=Object(r.a)((function(){var e=Object(i.a)(),t=e.ImageStore,n=e.UserStore,r=Object(a.useRef)(),c=Object(a.useRef)(),u=Object(h.d)((function(){return{width:null,setWidth:function(e){u.width=e},get widthStr(){return u.width?"/w/".concat(u.width):""},height:null,setHeight:function(e){u.height=e},get heightStr(){return u.height?"/h/".concat(u.height):""},get fullStr(){return t.serverFile.attributes.url.attributes.url+"?imageView2/0"+u.widthStr+u.heightStr}}})),o={showUploadList:!1,beforeUpload:function(e){return t.setFile(e),t.setFilename(e.name),null===n.currentUser?(p.a.warning("\u8bf7\u5148\u767b\u5f55\u518d\u4e0a\u4f20\uff01\uff01\uff01"),!1):(window.file=e,/(svg$)|(png$)|(jpg$)|(jpeg$)|(gif$)/gi.test(e.type)?e.size>1048576?(p.a.error("\u56fe\u7247\u6700\u5927\u4e0d\u80fd\u8d85\u8fc71M"),!1):(t.upload().then((function(e){console.log("\u4e0a\u4f20\u6210\u529f"),console.log(e)})).catch((function(){console.log("\u4e0a\u4f20\u5931\u8d25")})),!1):(p.a.error("\u53ea\u80fd\u4e0a\u4f20svg/png/jpg/jpeg/gif\u683c\u5f0f\u7684\u56fe\u7247"),!1))}};return l.a.createElement("div",null,l.a.createElement(f.a,{tip:"\u4e0a\u4f20\u4e2d...",spinning:t.isUploading},l.a.createElement(x,o,l.a.createElement("p",{className:"ant-upload-drag-icon"},l.a.createElement(d.a,null)),l.a.createElement("p",{className:"ant-upload-text"},"\u70b9\u51fb\u6216\u8005\u62d6\u62fd\u4e0a\u4f20\u56fe\u7247"),l.a.createElement("p",{className:"ant-upload-hint"},"\u4ec5\u652f\u6301.png/.jpg/.gif/.svg\u683c\u5f0f\u7684\u56fe\u7247\uff0c\u56fe\u7247\u6700\u59271M"))),t.serverFile?l.a.createElement(j,null,l.a.createElement(w,null,"\u4e0a\u4f20\u7ed3\u679c"),l.a.createElement("dl",null,l.a.createElement("dt",null,"\u7ebf\u4e0a\u5730\u5740"),l.a.createElement("dd",null,l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:t.serverFile.attributes.url.attributes.url},t.serverFile.attributes.url.attributes.url)),l.a.createElement("dt",null,"\u6587\u4ef6\u540d"),l.a.createElement("dd",null,t.filename),l.a.createElement("dt",null,"\u56fe\u7247\u9884\u89c8"),l.a.createElement("dd",null,l.a.createElement(O,{src:t.serverFile.attributes.url.attributes.url,alt:""})),l.a.createElement("dt",null,"\u5b9a\u5236\u56fe\u7247"),l.a.createElement("dd",null,l.a.createElement("input",{ref:r,onChange:function(){u.setWidth(r.current.value)},placeholder:"\u6700\u5927\u5bbd\u5ea6\uff08\u53ef\u9009)"}),l.a.createElement("input",{ref:c,onChange:function(){u.setHeight(c.current.value)},placeholder:"\u6700\u5927\u9ad8\u5ea6(\u53ef\u9009)"})),l.a.createElement("dd",null,l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:u.fullStr},u.fullStr)))):null)})),F=Object(r.a)((function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",{style:{color:"#1890ff"}},"Home"),l.a.createElement(g,null,"\u8bf7\u5148\u767b\u5f55\u518d\u4e0a\u4f20\uff01\uff01\uff01"),l.a.createElement(S,null))}));t.default=F}}]);
//# sourceMappingURL=10.42bfb1e4.chunk.js.map