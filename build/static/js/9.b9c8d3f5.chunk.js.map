{"version":3,"sources":["components/List.js","pages/History.js"],"names":["Img","styled","img","Component","observer","HistoryStore","useStore","useEffect","console","log","reset","initialLoad","pageStart","loadMore","find","hasMore","isLoading","useWindow","dataSource","list","renderItem","item","Item","key","id","src","attributes","url","alt","filename","href","History","List"],"mappings":"+WAOA,IAAMA,EAAMC,IAAOC,IAAV,KA+DMC,EAxDGC,aAAS,WAAO,IACtBC,EAAiBC,cAAjBD,aAgBR,OAVAE,qBAAU,WAGN,OAFAC,QAAQC,IAAI,4BAEL,WACHD,QAAQC,IAAI,4BACZJ,EAAaK,WAGlB,CAACL,IAGA,6BACI,kBAAC,IAAD,CACIM,aAAa,EACbC,UAAW,EACXC,SAnBK,WACbR,EAAaS,QAoBLC,SAAUV,EAAaW,WAAaX,EAAaU,QACjDE,WAAW,GAEX,kBAAC,IAAD,CACIC,WAAYb,EAAac,KACzBC,WAAY,SAAAC,GAAI,OACZ,kBAAC,IAAKC,KAAN,CAAWC,IAAKF,EAAKG,IACjB,6BACI,kBAACxB,EAAD,CAAKyB,IAAKJ,EAAKK,WAAWC,IAAID,WAAWC,IAAKC,IAAI,MAEtD,6BACI,4BAAKP,EAAKK,WAAWG,WAEzB,6BACI,uBAAGC,KAAMT,EAAKK,WAAWC,IAAID,WAAWC,KAAMN,EAAKK,WAAWC,IAAID,WAAWC,SAKxFtB,EAAaW,WAAaX,EAAaU,SACpC,6BACI,kBAAC,IAAD,aC/CbgB,UATf,WACI,OACI,oCACI,uCACA,kBAACC,EAAD","file":"static/js/9.b9c8d3f5.chunk.js","sourcesContent":["import { List, Spin } from 'antd';\r\nimport { observer } from 'mobx-react';\r\nimport React, { useEffect } from 'react';\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nimport styled from 'styled-components';\r\nimport { useStore } from '../stores';\r\n\r\nconst Img = styled.img`\r\n    width:120px;\r\n    height:100px;\r\n    object-fit:contain;\r\n    border:1px solid #cc;\r\n`;\r\n\r\nconst Component = observer(() => {\r\n    const { HistoryStore } = useStore();\r\n\r\n    const loadMore = () => {\r\n        HistoryStore.find();\r\n    }\r\n\r\n    useEffect(() => {\r\n        console.log('进入组件');\r\n\r\n        return () => {\r\n            console.log('卸载组件');\r\n            HistoryStore.reset();\r\n        }\r\n\r\n    }, [HistoryStore]);\r\n\r\n    return (\r\n        <div>\r\n            <InfiniteScroll\r\n                initialLoad={true}\r\n                pageStart={0}\r\n                loadMore={loadMore}\r\n                // 如果当前不处于加载中且请求了更多的数据，则显示更多\r\n                hasMore={!HistoryStore.isLoading && HistoryStore.hasMore}\r\n                useWindow={true}\r\n            >\r\n                <List\r\n                    dataSource={HistoryStore.list}\r\n                    renderItem={item => (\r\n                        <List.Item key={item.id} >\r\n                            <div>\r\n                                <Img src={item.attributes.url.attributes.url} alt=\"\" />\r\n                            </div>\r\n                            <div>\r\n                                <h5>{item.attributes.filename}</h5>\r\n                            </div>\r\n                            <div>\r\n                                <a href={item.attributes.url.attributes.url}>{item.attributes.url.attributes.url}</a>\r\n                            </div>\r\n                        </List.Item>\r\n                    )}\r\n                >\r\n                    {HistoryStore.isLoading && HistoryStore.hasMore && (\r\n                        <div>\r\n                            <Spin />\r\n                        </div>\r\n                    )}\r\n                </List>\r\n            </InfiniteScroll>\r\n\r\n        </div >\r\n    )\r\n});\r\n\r\n\r\nexport default Component;","import React from 'react';\r\nimport List from '../components/List';\r\n\r\nfunction History() {\r\n    return (\r\n        <>\r\n            <h1>History</h1>\r\n            <List></List>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default History;"],"sourceRoot":""}